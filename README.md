<div align="center">

# Datadog for VS Code & Cursor

[Overview](#overview)
| [Requirements](#requirements)
| [License](#license)
| [Help and Feedback](#help-and-feedback)

</div>

## Overview

The Datadog extension for VS Code and Cursor brings Datadog to your code editor to accelerate your development.

![Datadog extension for VS Code and Cursor](https://github.com/DataDog/datadog-for-vscode/raw/main/assets/images/readme/datadog-vscode-3.png)

The extension includes these features:

- [**Model Context Protocol (MCP) Server**](#mcp-server-setup-cursor-only): (Cursor only) Connect Cursor's AI agent to production telemetry, tools, and contexts from Datadog.

- [**Log Annotations**](#log-annotations): Gauge log volumes and search logs from your code.

- [**Code Insights**](#code-insights): Stay informed about runtime errors, vulnerabilities, and flaky tests without leaving the code.

- [**View in IDE**](#view-in-ide): Jump directly from code references in Datadog to your source files.

- [**Static Code Analysis**](#static-code-analysis): Detect and fix problems before you commit changes.

- [**Exception Replay**](#exception-replay): Debug your production code.

- [**Fix in Chat**](#fix-in-chat): (Cursor only) Fix code errors, vulnerabilities, and flaky tests with AI-powered suggestions and explanations.

> Unless stated otherwise, all extension features are available for both VS Code and any other IDEs based on VS Code forks, such as Cursor.

## Requirements

- **Datadog account**: Most features require a Datadog account.
  - New to Datadog? [Learn more][datadog] about Datadog's monitoring and security tools and sign up for a free trial.
  - If your organization uses a [custom sub-domain][custom_subdomain] such as `myorg.datadoghq.com`, you must indicate it using the `datadog.connection.oauth.setup.domain` setting in the IDE.

- **Git**: The extension works better when Git is enabled in the IDE. Ensure this is enabled by checking the `git.enabled` setting.

## MCP Server setup (Cursor only)

> The Datadog MCP Server is in Preview. Complete [this form][mcp_server_preview] to request access.

In Cursor, the extension includes access to the [Datadog Model Context Protocol (MCP) Server][mcp_server]. Enable the MCP Server to enhance Cursor's AI capabilities with your specific Datadog environment.

1. Ensure you have an active version of [Node.js][node] installed on your local machine.
2. Go to **Cursor Settings** (`Shift` + `Cmd/Ctrl` + `J`), and select the **MCP Tools** tab.
3. Find the Datadog server and turn on the toggle to enable it. A list of available tools is displayed (expand or refresh if necessary).

## Log annotations

Use **Log Annotations** to gauge the volume of logs generated by a given log line in your code. The extension adds annotations above your code to detected logging patterns that match log records in Datadog. Click an annotation to open the [Log Explorer][log_explorer] in Datadog and view the matching logs.

<video src="https://github.com/DataDog/datadog-for-vscode/raw/main/assets/logs_navigation.mp4" controls loop muted autoplay style="width:100%" title="Datadog Logs Navigation Demo"></video>

You can also search Datadog logs from within VS Code. Select any text in the code editor, then right-click and select **Datadog \> Search Logs With Selected Text**.

<!-- markdownlint-disable MD033 -->
<!-- markdownlint-disable MD041 -->
<center>
<br/>
<div><img src="https://github.com/DataDog/datadog-for-vscode/raw/main/assets/images/readme/0723/log.png" alt="Using the Datadog logs explorer feature."/></div>
</center>
<!-- markdownlint-enable MD041 -->
<!-- markdownlint-enable MD033 -->

## Code Insights

**Code insights** keep you informed with Datadog-generated insights that are relevant to your code base:

- Runtime errors collected by [Error Tracking][error_tracking]
- Code and library vulnerabilities reported by [Code Security][code_security]
- Flaky tests detected by [Test Optimization][test_optimization]

The extension identifies errors and vulnerabilities in the code with colored squiggles; hover over the line for more details.

<video src="https://github.com/DataDog/datadog-for-vscode/raw/main/assets/code-insights-inline-hover.mp4" controls loop muted autoplay style="width:100%" title="Hovering over inline code insights"></video>

The **Code Insights** view in the Datadog sidebar lists all the issues found in the repository. Select an item to view the full insight, and use the links to jump to the related source code location or open the code insight in Datadog.

You can group code insights by kind, file, priority, or service. You can also ignore individual code insights and set filters to view the ones you're most interested in.

<!-- markdownlint-disable MD033 -->
<!-- markdownlint-disable MD041 -->
<div align="center"><img src="https://github.com/DataDog/datadog-for-vscode/raw/main/assets/images/readme/code-insights-2.png" alt="The Code Insights view"/></div>
<!-- markdownlint-enable MD041 -->
<!-- markdownlint-enable MD033 -->

For specific insights about the file currently open in the active editor, check the **File Insights** view in the IDE's file explorer. This view also lists issues discovered by [Static Code Analysis](#static-code-analysis) within the file.

<video src="https://github.com/DataDog/datadog-for-vscode/raw/main/assets/file_insights_view-2.mp4" controls loop muted autoplay style="width:100%" title="Datadog Code Insights"></video>

## View in IDE

> This feature is only available for VS Code and Cursor. Other forks of VS Code are not supported.

The **View in VS Code** or **View in Cursor** feature provides a link from Datadog directly to your source files. Look for the button next to frames in stack traces displayed in the UI (for example, in [Error Tracking][error_tracking]):

<!-- markdownlint-disable MD033 -->
<!-- markdownlint-disable MD041 -->
<div align="center"><img src="https://github.com/DataDog/datadog-for-vscode/raw/main/assets/images/readme/view-in-vscode-2.png" alt="A stack trace in Datadog showing the View in VS Code button"/></div>
<!-- markdownlint-enable MD041 -->
<!-- markdownlint-enable MD033 -->

You can also use this feature to open your source files from an insight (such as an error from Error Tracking):

<!-- markdownlint-disable MD033 -->
<!-- markdownlint-disable MD041 -->
<div align="center"><img src="https://github.com/DataDog/datadog-for-vscode/raw/main/assets/images/readme/view-in-vscode-error.png" alt="An Error Tracking issue in the Datadog showing the View in VS Code button"/></div>
<!-- markdownlint-enable MD041 -->
<!-- markdownlint-enable MD033 -->

> To use this feature, first configure [source code integration][source_code_integration] for your service.

## Static Code Analysis

[Static Code Analysis][static_analysis] analyzes your code (locally) against predefined rules to detect and fix problems.

The extension runs Static Code Analysis rules on the source files you have open in your workspace. This allows you to detect and fix problems such as maintainability issues, bugs, or security vulnerabilities in the code before you commit your changes.

Static Code Analysis supports scanning for many programming languages. For a complete list, see [Static Code Analysis Rules][static_analysis_rules]. For file types belonging to supported languages, issues are shown in the source code editor, and you can directly apply suggested fixes.

<video src="https://github.com/DataDog/datadog-for-vscode/raw/main/assets/static_analysis.mp4" controls loop muted autoplay style="width:100%" title="Datadog Static Analysis Demo"></video>

### Get started with Static Code Analysis

When you start editing a source file, the extension checks for [`static-analysis.datadog.yml`][static_analysis_config_file] at your source repository's root. It prompts you to create it if necessary.

<!-- markdownlint-disable MD033 -->
<!-- markdownlint-disable MD041 -->
<div align="center"><img src="https://github.com/DataDog/datadog-for-vscode/raw/main/assets/images/readme/static-analysis-onboard.png" alt="Onboarding banner for setting up Static Code Analysis with Python files" width="50%"/></div>
<!-- markdownlint-enable MD041 -->
<!-- markdownlint-enable MD033 -->

After you create the configuration file, the analyzer runs automatically in the background whenever you open a file. If you need to enable Static Code Analysis for a particular language, search for the command `Datadog: Configure Static Analysis Languages` in the command palette (`Shift` + `Cmd/Ctrl` + `P`).

You can also run a batch analysis for individual folders and even the entire workspace. In the IDE's file explorer view, right-click a folder and select **Datadog Static Analysis > Analyze Folder** or **Analyze Workspace**.

> Static Code Analysis does not require a Datadog account, as source files are analyzed locally.

## Exception Replay

**Exception Replay** allows you to inspect the stack trace frames of any Error Tracking code insight and get information about the values of the variables of the code running in production.

To access this feature, you must enable [Error Tracking Exception Replay](exception_replay) on Datadog.

After the feature has been enabled, you can see an **Exception Replay** button next to the stack trace section of any instrumented Error Tracking code insight. Click the button to:

- Access all the information Datadog has about the different frames.
- Navigate through the production code.
- Review the value of the different variables involved.

Select an Error Tracking code insight from the Code Insights view. Go to the stack trace and click the Exception Replay button. The IDE shows a new activity with two new views:

- **Variables**: Displays the variables related to a particular stack trace frame.
- **Stack Trace**: Lists the stack frames for navigation.

Select a stack trace frame and inspect the values of all the variables that Datadog captured from your production code.

<video src="https://github.com/DataDog/datadog-for-vscode/raw/main/assets/exception_replay.mp4" controls loop muted autoplay style="width:100%" title="Datadog Exception Replay Demo"></video>

## Fix in Chat

> This extension feature is only supported in Cursor. It is not supported in VS Code.

The **Fix in Chat** button appears in several contexts when the extension identifies errors or issues. Click the button to generate an AI chat prompt that summarizes the problem, includes relevant details and context, and gives specific instructions for the agent.

<video src="https://github.com/DataDog/datadog-for-vscode/raw/main/assets/cursor_fix_in_chat.mp4" controls loop muted autoplay style="width:100%" title="Using Fix in Chat to fix an inline code error"></video>

## License

Read the [End-User License Agreement][eula] carefully before downloading or using this extension.

## Data and Telemetry

Datadog collects certain information about your usage of this IDE, including how you interact with it, whether errors occurred while using it, what caused those errors, and user identifiers in accordance with the [Datadog Privacy Policy][datadog_privacy_policy] and Datadog's [VS Code extension EULA][eula]. This data is used to help improve the extension's performance and features, including transitions to and from the extension and the applicable Datadog login page for accessing the Services.

If you don't wish to send this data to [Datadog][datadog], you can disable this at any time in the extension's settings: `Datadog > Telemetry > Setup > Enable Telemetry` and select `disabled`.

> The Datadog extension also honors the [VS Code telemetry][vs_code_telemetry] setting.

## Help and Feedback

To share your feedback, email [team-ide-integration@datadoghq.com][feedback_email] or create an issue in the extension's [public repository][public_repo].

Check out the [issues][known_issues] section to discover known issues.

Do you use [Cursor][cursor], or another fork of VS Code? Find the extension on the [Open VSX Registry][vsx_extension].

[custom_subdomain]: https://docs.datadoghq.com/account_management/multi_organization/#custom-sub-domains
[datadog_privacy_policy]: https://www.datadoghq.com/legal/privacy/
[datadog]: https://www.datadoghq.com/
[error_tracking]: https://docs.datadoghq.com/tracing/error_tracking/
[eula]: https://www.datadoghq.com/legal/eula/
[feedback_email]: mailto:team-ide-integration@datadoghq.com
[known_issues]: https://github.com/DataDog/datadog-for-vscode/issues?q=is%3Aissue+label%3A%22known+issue%22
[log_explorer]: https://docs.datadoghq.com/logs/explorer/
[public_repo]: https://github.com/DataDog/datadog-for-vscode
[source_code_integration]: https://docs.datadoghq.com/integrations/guide/source-code-integration/
[static_analysis_config_file]: https://docs.datadoghq.com/security/code_security/static_analysis/setup/#customize-your-configuration
[static_analysis_rules]: https://docs.datadoghq.com/security/code_security/static_analysis/static_analysis_rules/
[static_analysis]: https://docs.datadoghq.com/security/code_security/static_analysis/setup/
[vs_code_telemetry]: https://code.visualstudio.com/docs/getstarted/telemetry#_output-channel-for-telemetry-events
[cursor]: https://www.cursor.com
[vsx_extension]: https://open-vsx.org/extension/datadog/datadog-vscode
[mcp_server_preview]: https://www.datadoghq.com/product-preview/datadog-mcp-server
[mcp_server]: https://docs.datadoghq.com/bits_ai/mcp_server/
[exception_replay]: https://docs.datadoghq.com/tracing/error_tracking/exception_replay/
[code_security]: https://docs.datadoghq.com/security/code_security/
[test_optimization]: https://docs.datadoghq.com/tests/explorer/
[node]: https://nodejs.org/en/about/previous-releases
